#include<stdio.h>#include<string.h>struct node{ int left,right,mid;}h[10010];typedef struct ne{ int a,b;}PII;PII q[10010];int d[10010];int idx;int stt,edd;void sort2(PII a[],int l,int r){    if(l>=r) return;    int x=a[(l+r)/2].a;    int y=a[(l+r)/2].b;    int i=l-1;    int j=r+1;    while(i<j)    {        do{            i++;        }while(a[i].a>x||(a[i].a==x&&a[i].b<y));        do{            j--;        }while(a[j].a<x||(a[j].a==x&&a[j].b>y));        if(i<j) {         PII t=a[i];         a[i]=a[j];         a[j]=t;        }    }    sort2(a,l,j);    sort2(a,j+1,r);}int main() { int n,sum=0; int root=0; memset(h,-1,sizeof h); int cnt=0; while(scanf("%d",&n),n!=-1) {  if(cnt==0) root=n;  cnt++;  int a[4],len=0;  for(int i=0;;i++) {   scanf("%d",&a[i]);   if(a[i]==-1) break;   if(a[i]<100) sum++;   len++;  }  if(len==1) {   h[n].mid=a[0];  }  else if(len==2) {   h[n].left=a[0],h[n].right=a[1];  }  else {   h[n].left=a[0],h[n].mid=a[1],h[n].right=a[2];  } } for(int i=0;i<sum;i++) {  int a,b;  scanf("%d%d",&a,&b);  q[i].a=b;q[i].b=a; } sort2(q,0,sum-1); d[edd++]=root; while(stt<edd) {  int p=d[stt];  stt++;  if(h[p].left!=-1) d[edd++]=h[p].left;  if(h[p].mid!=-1) d[edd++]=h[p].mid;  if(h[p].right!=-1) d[edd++]=h[p].right; } for(int i=0,j=0;i<edd;i++) {  if(d[i]<100) {   printf("%d->%d\n",q[j].b,d[i]);   j++;  } }}